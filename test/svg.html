<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" href="../lib/bootstrap/css/bootstrap.css"/>
</head>
<body>
<style type="text/css">
    .topo-icon {
        position: absolute;
        display: block;
        font-size: 10px;
        line-height: 10px;
        width: 10px;
        height: 10px;
        color: #1f6eee;
    }
</style>
<div id="viewport" style="width: 1250px;height:1250px"></div>
<script type="text/javascript">
    (function () {
        var viewport = document.getElementById('viewport');
        var x = 10, y = 10;

        for (var i = 0; i < 40000; i++) {
            var icon = document.createElement('i');
            icon.setAttribute('class', 'topo-icon glyphicon glyphicon-time');
            icon.style.left = x + 'px';
            icon.style.top = y + 'px';
            viewport.appendChild(icon);

            x += 12;
            if (x > 1200) {
                x = 10;
                y += 12;
            }
        }

        var dragTarget = null;
        var positionX = 0;
        var positionY = 0;

        viewport.addEventListener('mousedown', function (e) {
            dragTarget = e.target;
            positionX = e.pageX;
            positionY = e.pageY;
        });

        viewport.addEventListener('mouseup', function (e) {
            dragTarget = null;
        });

        viewport.addEventListener('mousemove', function (e) {
            if (dragTarget) {
                var tx = e.pageX - positionX;
                var ty = e.pageY - positionY;
                dragTarget.style.webkitTransform = 'translate(' + tx + 'px,' + ty + 'px)';
//                dragTarget.setAttribute('transform', 'translate(' + tx + ' ' + ty + ')');
//                dragTarget.setAttribute('cx', e.offsetX);
//                dragTarget.setAttribute('cy', e.offsetY);
            }
        });
    })();
</script>
</body>
</html>