<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>Add/remove node and link</title>
    <script type="text/javascript" src="http://10.75.161.96:8080/jenkins/job/nextui/ws/lib/jquery/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="http://10.75.161.96:8080/jenkins/job/DailyBuild/lastSuccessfulBuild/artifact/dest/next-core.js"></script>
    <script type="text/javascript" src="http://10.75.161.96:8080/jenkins/job/nextui/lastSuccessfulBuild/artifact/dest/js/next-ui.js"></script>
    <script type="text/javascript" src="http://10.75.161.96:8080/jenkins/job/UI_Component/lastSuccessfulBuild/artifact/dest/js/next-components.js"></script>
    <link rel="stylesheet" href="http://10.75.161.96:8080/jenkins/job/nextui/lastSuccessfulBuild/artifact/dest/css/next-blue.css"/>
    <script type="text/javascript" src="../../../lib/GraphGenerator.js"></script>
    <!--<script type="text/javascript" src="../../../../src/js/next-graphic.js"></script>-->
    <link rel="stylesheet" href="../../../src/less/next-graphic.css"/>
    <script type="text/javascript" src="../../../src/js/util/util.js"></script>
    <script type="text/javascript" src="../../../src/js/util/Animation.js"></script>
    <script type="text/javascript" src="../../../src/js/core/DragManager.js"></script>
    <script type="text/javascript" src="../../../src/js/core/Component.js"></script>
    <script type="text/javascript" src="../../../src/js/render/svg/SVGComponent.js"></script>
    <script type="text/javascript" src="../../../src/js/render/svg/Icons.js"></script>
    <script type="text/javascript" src="../../../src/js/render/svg/Components.js"></script>
    <script type="text/javascript" src="../../../src/js/data/Vector.js"></script>
    <script type="text/javascript" src="../../../src/js/data/Line.js"></script>
    <script type="text/javascript" src="../../../src/js/data/QuadTree.js"></script>
    <script type="text/javascript" src="../../../src/js/data/NeXtForce.js"></script>
    <script type="text/javascript" src="../../../src/js/data/Convex.js"></script>
    <script type="text/javascript" src="../../../src/js/data/Vertex.js"></script>
    <script type="text/javascript" src="../../../src/js/data/Edge.js"></script>
    <script type="text/javascript" src="../../../src/js/data/VertexSet.js"></script>
    <script type="text/javascript" src="../../../src/js/data/EdgeSet.js"></script>
    <script type="text/javascript" src="../../../src/js/data/processor/Force.js"></script>
    <script type="text/javascript" src="../../../src/js/data/processor/Quick.js"></script>
    <script type="text/javascript" src="../../../src/js/data/processor/Circle.js"></script>
    <script type="text/javascript" src="../../../src/js/data/ObservableGraph.js"></script>
    <script type="text/javascript" src="../../../src/js/data/Projection.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/core/Config.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/core/Projection.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/core/Graph.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/core/Event.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/node/NodeMixin.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/link/LinkMixin.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/layer/LayerMixin.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/core/StageMixin.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/tooltip/TooltipMixin.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/scene/SceneMixin.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/core/Topology.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/layer/Layer.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/node/AbstractNode.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/node/Node.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/node/NodesLayer.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/node/NodeSet.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/node/NodeSetLayer.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/link/AbstractLink.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/link/Link.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/link/LinksLayer.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/link/LinkSet.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/link/LinkSetLayer.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/layout/NeXtForceLayout.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/tooltip/TooltipPolicy.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/tooltip/TopologyTooltip.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/tooltip/NodeTooltip.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/tooltip/LinkTooltip.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/tooltip/LinkSetTooltip.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/tooltip/TooltipManager.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/scene/Scene.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/scene/DefaultScene.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/scene/SelectionScene.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/scene/SelectionNodeScene.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/scene/ZoomBySelection.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/plugin/Nav.js"></script>
    <script type="text/javascript" src="../../../src/js/topology/plugin/Search.js"></script>
    <style type="text/css">
        body, html {
            height: 100%;
        }

        .row {
            height: 100%
        }

        #topo {
            height: 100%;
        }

    </style>
</head>
<body>
<div id="topo" class="col-md-8"></div>
<div id="list" class="col-md-4">
    <h2>Add Node</h2>


    <div class="form-group">
        <label for="ani">Node ID</label>
        <input type="text" class="form-control" id="ani" placeholder="Node ID" value="5">
    </div>
    <button type="submit" class="btn btn-default" id="an">Add Node</button>

    <h2>Add link</h2>


    <div class="form-group">
        <label for="">Source Node ID</label>
        <input type="text" class="form-control" id="alsi" placeholder="Source Node ID" value="0">
    </div>
    <div class="form-group">
        <label for="">Target Node ID</label>
        <input type="text" class="form-control" id="alti" placeholder="Target Node ID" value="4">
    </div>
    <button type="submit" class="btn btn-default" id="al">Add link</button>


    <h2>Remove Node</h2>


    <div class="form-group">
        <label for="">Node ID</label>
        <input type="text" class="form-control" id="rni" placeholder="Node ID">
    </div>
    <button type="submit" class="btn btn-default" id="rn">Remove Node</button>


    <h2>Remove Link</h2>


    <div class="form-group">
        <label for="">Link ID</label>
        <input type="text" class="form-control" id="rli" placeholder="Link ID">
    </div>
    <button type="submit" class="btn btn-default" id="rl">Remove Link</button>

</div>
<script type="text/javascript">


    var topologyData = {
        nodes: [
            {"id": 0, "x": 410, "y": 100, "name": "12K-1"},
            {"id": 1, "x": 410, "y": 280, "name": "12K-2"},
            {"id": 2, "x": 660, "y": 280, "name": "Of-9k-03"},
            {"id": 3, "x": 660, "y": 100, "name": "Of-9k-02"},
            {"id": 4, "x": 180, "y": 190, "name": "Of-9k-01"}
        ],
        links: [
            {"source": 0, "target": 1},
            {"source": 1, "target": 2},
            {"source": 1, "target": 3},
            {"source": 4, "target": 1},
            {"source": 2, "target": 3},
            {"source": 2, "target": 0},
            {"source": 0, "target": 4},
            {"source": 0, "target": 4},
            {"source": 0, "target": 4},
            {"source": 0, "target": 3}
        ]
    };
    var topo = new nx.graphic.Topology({
        adaptive: true,
        identityKey: 'id',
        nodeLabel: 'model.id',
        linkLabel: 'model.id',
        nodeShowIcon: true,
        data: topologyData
    });

    topo.on("ready", function () {

    });

    var app = new nx.ui.Application();
    app.getContainer = function () {
        return new nx.dom.Element(document.getElementById('topo'));
    };
    topo.attach(app);


    $(function () {


        $("#an").click(function () {

            topo.addNode({
                id: $("#ani").val() || null,
                x: Math.floor(Math.random() * 100),
                y: Math.floor(Math.random() * 100)
            });
            topo.fit();
        });


        $("#al").click(function () {

            if ($("#alsi").val() != "" && $("#alti").val() != "")
                topo.addLink({
                    source: $("#alsi").val(),
                    target: $("#alti").val()
                });
            topo.fit();
        });


        $("#rn").click(function () {

            topo.removeNode($("#rni").val());
            topo.fit();
        });

        $("#rl").click(function () {

            topo.removeLink($("#rli").val());
            topo.fit();
        });

    })


</script>
</body>
</html>