var nx={VERSION:"0.5.0",DEBUG:!1,global:function(){return this}.call(null)};!function(a){var b=Array.isArray||function(a){return a&&a.constructor===Array};a.extend=function(a){for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a},a.each=function(a,b,c){if(a&&b)if(a.__each__)a.__each__(b,c);else{var d=a.length;if(d>=0)for(var e=0;d>e;e++)b.call(c,a[e],e);else for(var f in a)a.hasOwnProperty(f)&&b.call(c,a[f],f)}},a.clone=function(b){if(b){if(b.__clone__)return b.__clone__();if(a.is(b,"Array"))return b.slice(0);var c={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}return b},a.is=function(a,c){if(a&&a.__is__)return a.__is__(c);switch(c){case"Undefined":return void 0===a;case"Null":return null===a;case"Object":return a&&"object"==typeof a;case"String":case"Boolean":case"Number":case"Function":return typeof a===c.toLowerCase();case"Array":return b(a);default:return a instanceof c}},a.get=function(a,b){return a?a.__get__?a.__get__(b):a[b]:void 0},a.set=function(a,b,c){a&&(a.__set__?a.__set__(b):a[b]=c)},a.gets=function(a){if(a){if(a.__gets__)return a.__gets__();var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}},a.sets=function(a,b){if(a&&b)if(a.__sets__)a.__sets__(b);else for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},a.has=function(a,b){return a?a.__has__?a.__has__(b):b in a:!1},a.compare=function(a,b){return a&&a.__compare__?a.__compare__(b):a===b?0:a>b?1:b>a?-1:1},a.path=function(a,b,c){var d=a;if(b){var e,f=b.split("."),g=0,h=f.length;if(void 0===c)for(;d&&h>g;g++)e=f[g],d=d.__get__?d.__get__(e):d[e];else{for(h-=1;d&&h>g;g++)e=f[g],d=d.__get__?d.__get__(e):d[e]=d[e]||{};e=f[g],d&&(d.__set__?d.__set__(e,c):d[e]=c,d=c)}}return d}}(nx),function(a){function b(){}function c(a,b){var c=j+b,d=a[c]&&"event"==a[c].__type__,e=a[c]=function(a,c){var d=this.__listeners__,e=d[b]=d[b]||[{owner:null,handler:null,context:null}];e[0]={owner:this,handler:a,context:c}};e.__name__=b,e.__type__="event",d||a.__events__.push(b)}function d(b,c,d){var e,f=b[c]&&"property"==b[c].__type__;a.is(d,"Object")?e=d.value:(e=d,d={value:e}),b[c]&&d.inherits&&(d=a.extend({},b[c].__meta__,d));var g=b[c]=function(a,b){return void 0===a?g.__getter__.call(this,b):g.__setter__.call(this,a,b)};g.__name__=c,g.__type__="property",g.__meta__=d,g.__getter__=d.get||function(){return this["_"+c]},g.__setter__=d.set||function(a){this["_"+c]=a},g.getMeta=function(a){return a?g.__meta__[a]:g.__meta__},void 0!==e&&(b.__defaults__[c]=e),f||b.__properties__.push(c)}function e(a,b,c){var d=a[b]&&"method"==a[b].__type__;a[b]&&(c.__super__=a[b]),c.__name__=b,c.__type__="method",c.__meta__={},a[b]=c,d||a.__methods__.push(b)}function f(f,j,m){m||(a.is(j,"Object")?(m=j,j=null,a.is(f,"Function")&&(j=f,f=null)):j||(a.is(f,"Object")?(m=f,f=null):a.is(f,"Function")&&(j=f,f=null))),m=m||{};var n,o,p,q,r,s,t=j||b,u=m.mixins||[],v=m.events||[],w=m.properties||{},x=m.methods||{},y=m.static||!1,z=m.statics||{};if(a.is(u,"Function")&&(u=[u]),t.__static__)throw new Error("Static class cannot be inherited.");if(y){for(r=function(){throw new Error("Cannot instantiate static class.")},r.__classId__=g++,r.__className__=f?f:"Anonymous",r.__static__=!0,r.__events__=[],r.__properties__=[],r.__methods__=[],r.__defaults__={},p=0,q=v.length;q>p;p++)c(r,v[p]);for(o in w)w.hasOwnProperty(o)&&d(r,o,w[o]);for(o in x)x.hasOwnProperty(o)&&e(r,o,x[o]);for(o in z)z.hasOwnProperty(o)&&(r[o]=z[o]);a.each(r.__defaults__,function(b,c){r["_"+c]=a.is(b,"Function")?b.call(this):b},this),x.init&&x.init.call(r)}else{r=function(){var b=this.__mixins__;this.__id__=h++,this.__listeners__={},this.__initializing__=!0;for(var c=0,d=b.length;d>c;c++){var e=b[c].__ctor__;e&&e.call(this)}a.each(r.__defaults__,function(b,c){this["_"+c]=a.is(b,"Function")?b.call(this):b},this),this.__ctor__&&this.__ctor__.apply(this,arguments),this.__initializing__=!1},s=function(){},s.prototype=t.prototype,n=new s,n.constructor=r,n.__events__=t.__events__.slice(0),n.__properties__=t.__properties__.slice(0),n.__methods__=t.__methods__.slice(0),n.__defaults__=a.clone(t.__defaults__),n.__mixins__=t.__mixins__.concat(u),r.__classId__=g++,r.__className__=n.__className__=f?f:"Anonymous",r.__super__=n.__super__=t,r.prototype=n,x.init&&(n.__ctor__=x.init);for(o in m)m.hasOwnProperty(o)&&(n[i+o]=r[i+o]=m[o]);for(a.each(u,function(b){var f=b.prototype;a.each(b.__events__,function(a){c(n,a)}),a.each(b.__properties__,function(a){d(n,a,f[a].__meta__)}),a.each(b.__methods__,function(a){"init"!==a&&e(n,a,f[a])})}),p=0,q=v.length;q>p;p++)c(n,v[p]);for(o in w)w.hasOwnProperty(o)&&d(n,o,w[o]);for(o in x)x.hasOwnProperty(o)&&e(n,o,x[o]);for(o in z)z.hasOwnProperty(o)&&(r[o]=z[o]);r.__ctor__=n.__ctor__,r.__events__=n.__events__,r.__properties__=n.__properties__,r.__methods__=n.__methods__,r.__defaults__=n.__defaults__,r.__mixins__=n.__mixins__}return f&&a.path(l,f,r),k[r.__classId__]=r,r}var g=1,h=1,i="@",j="on",k={},l=a.global,m=b.prototype={constructor:b,dispose:function(){this.__listeners__={}},destroy:function(){this.dispose()},inherited:function(){var a=this.inherited.caller.__super__;return a?a.apply(this,arguments):void 0},is:function(b){if("string"==typeof b&&(b=a.path(l,b)),b){if(this instanceof b)return!0;for(var c=this.__mixins__,d=0,e=c.length;e>d;d++){var f=c[d];if(b===f)return!0}}return!1},has:function(a){var b=this[a];return b&&"property"==b.__type__},get:function(a){var b=this[a];return void 0!==b?"property"==b.__type__?b.call(this):b:void 0},set:function(a,b){var c=this[a];if(void 0!==c){if("property"==c.__type__)return c.call(this,b);this[a]=b}else this[a]=b},gets:function(){var b={};return a.each(this.__properties__,function(a){b[a]=this.get(a)},this),b},sets:function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&this.set(b,a[b])},can:function(a){var b=this[j+a];return b&&"event"==b.__type__},on:function(a,b,c){var d=this.__listeners__,e=d[a]=d[a]||[{owner:null,handler:null,context:null}];e.push({owner:this,handler:b,context:c||this})},off:function(a,b,c){var d,e=this.__listeners__[a];if(e)if(b){c=c||this;for(var f=0,g=e.length;g>f;f++)if(d=e[f],d.handler==b&&d.context==c){e.splice(f,1);break}}else e.length=1},upon:function(a,b,c){var d=this.__listeners__,e=d[a]=d[a]||[{owner:null,handler:null,context:null}];e[0]={owner:this,handler:b,context:c}},fire:function(a,b){var c,d,e=this.__listeners__[a];if(e)for(var f=0,g=e.length;g>f;f++)if(c=e[f],c&&c.handler&&(d=c.handler.call(c.context,c.owner,b),d===!1))return!1},__is__:function(a){return this.is(a)},__has__:function(a){return this.has(a)},__get__:function(a){return this.get(a)},__set__:function(a,b){return this.set(a,b)},__gets__:function(){return this.gets()},__sets__:function(a){return this.sets(a)}};b.__classId__=m.__classId__=0,b.__className__=m.__className__="nx.Object",b.__events__=m.__events__=[],b.__properties__=m.__properties__=[],b.__methods__=m.__methods__=[],b.__defaults__=m.__defaults__={},b.__mixins__=m.__mixins__=[],b.extendEvent=c,b.extendProperty=d,b.extendMethod=e,a.Object=b,a.define=f,a.classes=k}(nx),function(a){a.define("nx.Comparable",{methods:{compare:function(a){return this===a?0:this>a?1:a>this?-1:1},__compare__:function(a){return this.compare(a)}}})}(nx),function(a){a.define("nx.Deferrable",{events:["completed"],properties:{value:{get:function(){},set:function(){}}},methods:{}})}(nx),function(a){var b=a.define("nx.Iterable",{statics:{getIterator:function(c){return a.is(c,b)?function(a,b){c.each(a,b)}:function(b,d){a.each(c,b,d)}},toArray:function(c){if(a.is(c,b))return c.toArray();if(a.is(c,"Array"))return c.slice(0);var d=[];return a.each(c,function(a){d.push(a)}),d}},properties:{count:{get:function(){return this.toArray().length}}},methods:{each:function(){throw new Error("Not Implemented.")},toArray:function(){var a=[];return this.each(function(b){a.push(b)}),a},__each__:function(a,b){return this.each(a,b)}}})}(nx),function(a){var b=a.define("nx.Observable",{methods:{init:function(){this.__bindings__={},this.__watchers__={}},dispose:function(){this.inherited(),a.each(this.__bindings__,function(a){a.dispose()}),this.__bindings__={},this.__watchers__={}},watch:function(b,c,d){a.each("*"==b?this.__properties__:a.is(b,"Array")?b:[b],function(a){this._watch(a,c,d)},this)},unwatch:function(b,c,d){a.each("*"==b?this.__properties__:a.is(b,"Array")?b:[b],function(a){this._unwatch(a,c,d)},this)},notify:function(b){"*"==b?a.each(this.__watchers__,function(a,b){this._notify(b)},this):a.each(a.is(b,"Array")?b:[b],function(a){this._notify(a)},this)},getBinding:function(a){return this.__bindings__[a]},setBinding:function(b,d,e){var f=this.__bindings__[b],g={};if(a.is(d,"String")){for(var h=d.split(","),i=h[0],j=1,k=h.length;k>j;j++){var l=h[j].split("=");g[l[0]]=l[1]}g.target=this,g.targetPath=b,g.sourcePath=i,g.source=e,g.converter=c.converters[g.converter]}else g=a.clone(d),g.target=this,g.targetPath=b,g.source=g.source||this;f&&f.destroy(),this.__bindings__[b]=new c(g)},clearBinding:function(a){var b=this.__bindings__[a];b&&(b.destroy(),this.__bindings__[a]=null)},_watch:function(b,c,d){var e=this.__watchers__,f=e[b]=e[b]||[],g=this[b];if(f.push({owner:this,handler:c,context:d}),g&&"property"==g.__type__&&!g._watched){var h=g.__setter__,i=g.getMeta("dependencies"),j=g._refs=g._refs||[];j.push(b),a.each(i,function(a){var c=this[a];if(c){var d=c._refs=c._refs||[];d.push(b)}},this),g.__setter__=function(a,c){var d=this.get(b);return d!==a&&h.call(this,a,c)!==!1?this.notify(j):!1},g._watched=!0}},_unwatch:function(a,b,c){var d,e=this.__watchers__,f=e[a];if(f)if(b){for(var g=0,h=f.length;h>g;g++)if(d=f[g],d.handler==b&&d.context==c){f.splice(g,1);break}}else f.length=0},_notify:function(b){var c=this.__watchers__;a.each(c[b],function(a){a&&a.handler&&a.handler.call(a.context,b,this.get(b),a.owner)},this)}}}),c=a.define("nx.Binding",b,{statics:{converters:{"boolean":{convert:function(a){return!!a},convertBack:function(a){return!!a}},inverted:{convert:function(a){return!a},convertBack:function(a){return!a}},number:{convert:function(a){return Number(a)},convertBack:function(a){return a}}},format:function(a,b){return a?a.replace("{0}",b):""}},properties:{target:{value:null},targetPath:{value:""},sourcePath:{value:""},source:{get:function(){return this._source},set:function(a){this._initialized&&this._source!==a&&(this._rebind(0,a),this._updateTarget(),this._source=a)}},bindingType:{value:"auto"},direction:{value:"auto"},trigger:{value:"auto"},format:{value:"auto"},converter:{value:"auto"}},methods:{init:function(b){if(this.sets(b),b.target){var d,e=this.target(),f=this.targetPath(),g=this.sourcePath(),h=this.bindingType(),i=this.direction(),j=this.format(),k=this.converter(),l=e[f],m=this._watchers=[],n=this._keys=g.split("."),o=0,p=n.length,q=this;if(l){var r=l.__meta__.binding;"auto"==h&&(h=l.__type__),"auto"==i&&(i=r&&r.direction||"<-"),"auto"==j&&(j=r&&r.format),"auto"==k&&(k=r&&r.converter)}else"auto"==h&&(h=e.can(f)?"event":"property"),"auto"==i&&(i="<-"),"auto"==j&&(j=null),"auto"==k&&(k=null);if(k&&a.is(k,"Function")&&(k={convert:k,convertBack:function(a){return a}}),"<"==i[0])for(;p>o;o++)m.push({key:n[o],handler:function(a){return function(b,c){q._rebind(a,c),q._updateTarget()}}(o+1)});"event"==h?(d=m[p-1].key,m.length--,this._updateTarget=function(){var a=this._actualValue;a&&e.upon(f,a[d],a)}):this._updateTarget=function(){var b=this._actualValue;k&&(b=k.convert.call(this,b)),j&&(b=c.format(j,b)),a.path(e,f,b)},">"==i[1]&&e.watch&&e.watch(f,this._onTargetChanged=function(b,c){var d=c;k&&(d=k.convertBack.call(this,d)),a.path(this.source(),g,d)},this),this._initialized=!0,this.source(b.source)}},dispose:function(){this._target;this._rebind(0,null)},_rebind:function(a,b){for(var c,d=this._watchers,e=b,f=a,g=d.length;g>f;f++){var h=d[f],i=h.key,j=h.handler;c=h.source,c&&c.unwatch&&c.unwatch(i,j,this),h.source=e,e&&(e.watch&&e.watch(i,j,this),e=e.get?e.get(i):e[i])}this._actualValue=e}}})}(nx),function(a){var b=a.define("nx.Serializable",{methods:{serialize:function(){var c={};return a.each(this.__properties__,function(d){var e=this[d],f=e.call(this);e.getMeta("serializable")!==!1&&(c[d]=a.is(f,b)?f.serialize():f)},this),c}}})}(nx),function(a){var b=a.Iterable,c=a.define("nx.data.Collection",b,{properties:{count:{get:function(){return this._data.length}}},methods:{init:function(c){var d=this._data=[];a.is(c,b)?this._data=c.toArray():b.getIterator(c)(function(a){d.push(a)})},add:function(a){this._data.push(a)},addRange:function(a){var c=this._data,d=b.toArray(a);return c.splice.apply(c,[c.length,0].concat(d)),d},remove:function(a){var b=this.indexOf(a);return b>=0?(this._data.splice(b,1),b):-1},removeAt:function(a){return this._data.splice(a,1)[0]},insert:function(a,b){this._data.splice(b,0,a)},insertRange:function(a,c){var d=this._data,e=b.toArray(a);return d.splice.apply(d,[c,0].concat(e)),e},clear:function(){var a=this._data.slice();return this._data.length=0,a},getItem:function(a){return this._data[a]},getRange:function(a,b){return new c(this._data.slice(a,a+b))},indexOf:function(b){var c=this._data;if(c.indexOf)return c.indexOf(b);for(var d=0,e=c.length;e>d;d++)if(0===a.compare(c[d],b))return d;return-1},lastIndexOf:function(b){var c=this._data;if(c.lastIndexOf)return c.lastIndexOf(b);for(var d=c.length-1;d>=0;d--)if(0===a.compare(c[d],b))return d;return-1},contains:function(a){return this.indexOf(a)>=0},sort:function(a){return this._data.sort(a)},each:function(b,c){a.each(this._data,b,c)},toArray:function(){return this._data.slice(0)}}})}(nx),function(a){{var b=a.Iterable,c=a.define(b,{methods:{init:function(a){this._dict=a},each:function(a,b){this._dict.each(function(c){a.call(b,c.key)})}}}),d=a.define(b,{methods:{init:function(a){this._dict=a},each:function(a,b){this._dict.each(function(c){a.call(b,c.value)})}}});a.define("nx.data.Dictionary",b,{properties:{count:{get:function(){var a=0;return this.each(function(){a++}),a}},keys:{get:function(){return this._keys}},values:{get:function(){return this._values}}},methods:{init:function(b){var e=this._map={};b&&a.each(b,function(a,b){e[b]={key:""+b,value:a}}),this._keys=new c(b),this._values=new d(b)},contains:function(a){return a in this._map},getItem:function(a){var b=this._map[a];return b&&b.value},setItem:function(a,b){var c=this._map[a];c||(c=this._map[a]={key:a}),c.value=b},removeItem:function(a){delete this._map[a]},clear:function(){this._map={}},each:function(b,c){a.each(this._map,b,c)},toArray:function(){var a=[];return this.each(function(b){a.push(b)}),a},toObject:function(){var a={};return this.each(function(b){a[b.key]=b.value}),a}}})}}(nx),function(a){a.define("nx.data.ObservableObject",a.Observable,{methods:{init:function(a){this.inherited(),this._data=a||{}},dispose:function(){this.inherited(),this._data=null},has:function(a){var b=this[a];return b&&"property"==b.__type__||a in this._data},get:function(a){var b=this[a];return void 0===b?this._data[a]:"property"==b.__type__?b.call(this):void 0},set:function(a,b){var c=this[a];if(void 0===c){if(this._data[a]!==b)return this._data[a]=b,this.notify(a),!0}else if("property"==c.__type__)return c.call(this,b)},gets:function(){var b=a.clone(this._data);return a.each(this.__properties__,function(a){b[a]=this.get(a)},this),b}}})}(nx),function(a){a.define("nx.data.ObservableCollection",a.data.Collection,{mixins:a.Observable,events:["change"],methods:{add:function(a){return this.inherited(a),this.notify("count"),this.fire("change",{action:"add",items:[a]}),a},addRange:function(a){var b=this.inherited(a);return this.notify("count"),this.fire("change",{action:"add",items:b}),b},insert:function(a,b){this.inherited(a,b),this.notify("count"),this.fire("change",{action:"add",items:[a],index:b})},insertRange:function(a,b){var c=this.inherited(a,b);this.notify("count"),this.fire("change",{action:"add",items:c,index:b})},remove:function(a){var b=this.inherited(a);return b>=0&&(this.notify("count"),this.fire("change",{action:"remove",items:[a],index:b})),b},removeAt:function(a){var b=this.inherited(a);return void 0!==b&&(this.notify("count"),this.fire("change",{action:"remove",items:[b],index:a})),b},clear:function(){var a=this.inherited();this.notify("count"),this.fire("change",{action:"clear",items:a})},sort:function(a){var b=this.inherited(a);return this.notify("count"),this.fire("change",{action:"sort",comparator:a||function(a,b){return a>b?1:b>a?-1:0}}),b}}})}(nx),function(a){var b=a.Observable,c=a.data.Dictionary;a.define("nx.data.ObservableDictionary",c,{mixins:b,events:["change"],methods:{setItem:function(a,b){var c=this._map;if(a in c){var d=c[a],e=c[a]={key:a,value:b};this.fire("change",{action:"replace",oldItem:d,newItem:e})}else{var f=c[a]={key:a,value:b};this.notify("count"),this.fire("change",{action:"add",items:[f]})}},removeItem:function(a){var b=this._map;if(a in b){var c=b[a];delete b[a],this.notify("count"),this.fire("change",{action:"remove",items:[c]})}},clear:function(){this._map;this._map={},this.notify("count"),this.fire("change",{action:"clear",items:this.toArray()})}}})}(nx),function(a){{var b=a.Iterable,c=Array.prototype,d=c.every,e=c.some,f=c.filter,g=c.map,h=c.reduce;a.define("nx.data.Query",a.Iterable,{methods:{init:function(a){this._iter=a,this.reset()},reset:function(){this._where=null,this._orderBy=null,this._unions=[],this._joins=[],this._begin=0,this._end=null},where:function(a){return this._where=a,this},orderBy:function(b,c){return this._orderBy=a.is(b,"Function")?c?function(a,c){return b(c,a)}:b:c?function(c,d){return a.compare(a.path(d,b),a.path(c,b))}:function(c,d){return a.compare(a.path(c,b),a.path(d,b))},this},groupBy:function(){throw new Error("Not Implemented")},distinct:function(){throw new Error("Not Implemented")},skip:function(a){return this._begin=a,this._end&&(this._end+=a),this},take:function(a){return this._end=this._begin+a,this},join:function(){throw this._join=function(){},new Error("Not Implemented")},select:function(b){var c=this.toArray();return a.is(b,"Function")?g.call(c,b):a.is(b,"String")?g.call(c,function(c){return a.path(c,b)}):a.is(b,"Array")?g.call(c,function(c){var d={};return a.each(b,function(b){a.path(d,b,a.path(c,b))}),d}):c},first:function(a){var b=this.toArray();if(!a)return b[0];for(var c=0,d=b.length;d>c;c++){var e=b[c];if(a(e))return e}},last:function(a){var b=this.toArray();if(!a)return b[b.length-1];for(var c=b.length-1;c>=0;c--){var d=b[c];if(a(d))return d}},all:function(a){return d.call(this.toArray(),a)},any:function(a){return e.call(this.toArray(),a)},max:function(){return h.call(this.toArray(),function(a,b){return a>b?a:b})},min:function(){return h.call(this.toArray(),function(a,b){return b>a?a:b})},sum:function(){return h.call(this.toArray(),function(a,b){return a+b})},average:function(){var a=this.toArray();return h.call(a,function(a,b){return a+b})/a.length},toArray:function(){var c=b.toArray(this._iter);return a.each(this._unions,function(a){c.concat(b.toArray(a))}),this._where&&(c=f.call(c,this._where)),this._orderBy&&(c=c.sort(this._orderBy)),c=this._end>0?c.slice(this._begin,this._end):c.slice(this._begin),this.reset(),c}}})}}(nx);